import{f as T,a as n,b as z,c as ne}from"../chunks/D-FEZmUj.js";import{i as ie}from"../chunks/S7wJ-NXx.js";import{o as le,w as de}from"../chunks/DQOOS3oW.js";import{p as ce,t as q,a as ve,g as o,c as t,s,b as v,m as E,r as a,n as H,f as pe}from"../chunks/B2KgfAGv.js";import{e as U,s as i}from"../chunks/BwF2ssNH.js";import{i as S,s as me,a as be}from"../chunks/CGNHjnj0.js";var ue=z('<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>'),xe=z('<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>'),ge=T('<div class="text-center py-8"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-[var(--border-focus)]"></div> <p class="mt-2 text-[var(--text-secondary)]">Loading...</p></div>'),fe=T('<div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4"><p class="text-red-800 dark:text-red-200"> </p></div>'),he=T('<div class="min-h-screen bg-[var(--bg-primary)] text-[var(--text-primary)] p-8"><header class="flex justify-between items-center mb-8"><h1 class="text-3xl font-bold">TF-Engine Settings</h1> <button class="p-2 rounded-lg bg-[var(--bg-secondary)] hover:bg-[var(--bg-tertiary)] border border-[var(--border-color)]" aria-label="Toggle theme"><!></button></header> <div class="max-w-2xl mx-auto bg-[var(--bg-secondary)] rounded-xl shadow-lg p-6 border border-[var(--border-color)]"><h2 class="text-2xl font-semibold mb-6">Account Settings</h2> <!> <div class="space-y-4"><div class="flex justify-between items-center py-3 border-b border-[var(--border-color)]"><span class="text-[var(--text-secondary)]">Equity:</span> <span class="font-semibold text-lg"> </span></div> <div class="flex justify-between items-center py-3 border-b border-[var(--border-color)]"><span class="text-[var(--text-secondary)]">Risk % per Unit:</span> <span class="font-semibold text-lg"> </span></div> <div class="flex justify-between items-center py-3 border-b border-[var(--border-color)]"><span class="text-[var(--text-secondary)]">Portfolio Heat Cap:</span> <span class="font-semibold text-lg"> </span></div> <div class="flex justify-between items-center py-3"><span class="text-[var(--text-secondary)]">Sector Bucket Cap:</span> <span class="font-semibold text-lg"> </span></div></div> <div class="mt-6 flex gap-4"><button class="flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed">Refresh</button> <button disabled class="flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-700 text-gray-500 dark:text-gray-400 font-medium rounded-lg cursor-not-allowed">Update (Not Implemented)</button></div> <p class="mt-4 text-sm text-[var(--text-tertiary)] text-center"> </p></div> <div class="max-w-2xl mx-auto mt-8"><h3 class="text-xl font-semibold mb-4">Banner Demo (Anti-Impulsivity Core)</h3> <div class="banner banner-green rounded-xl p-8 text-white text-center shadow-lg"><p class="text-3xl font-bold mb-2">✓ OK TO TRADE ✓</p> <p class="text-lg opacity-90">All gates pass • Quality score met</p></div></div></div>');function Se(O,K){ce(K,!1);const N=()=>be(p,"$isDark",Q),[Q,V]=me(),p=de(!1);let l=E({equity:0,riskPct:0,portfolioCap:0,bucketCap:0}),d=E(!1),c=E("");le(()=>{localStorage.getItem("theme")==="dark"&&(p.set(!0),document.documentElement.classList.add("dark")),$()});function G(){p.update(e=>{const r=!e;return r?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")),r})}async function $(){v(d,!0),v(c,"");try{const e=await fetch("/api/settings");if(!e.ok)throw new Error(`HTTP ${e.status}: ${e.statusText}`);const r=await e.json();v(l,r)}catch(e){v(c,e instanceof Error?e.message:"Failed to fetch settings"),console.error("Error fetching settings:",e)}finally{v(d,!1)}}ie();var m=he(),b=t(m),u=s(t(b),2),J=t(u);{var W=e=>{var r=ue();n(e,r)},X=e=>{var r=xe();n(e,r)};S(J,e=>{N()?e(W):e(X,!1)})}a(u),a(b);var j=s(b,2),D=s(t(j),2);{var Y=e=>{var r=ge();n(e,r)},Z=e=>{var r=ne(),_=pe(r);{var k=w=>{var C=fe(),R=t(C),oe=t(R,!0);a(R),a(C),q(()=>i(oe,o(c))),n(w,C)};S(_,w=>{o(c)&&w(k)},!0)}n(e,r)};S(D,e=>{o(d)?e(Y):e(Z,!1)})}var x=s(D,2),g=t(x),F=s(t(g),2),ee=t(F);a(F),a(g);var f=s(g,2),M=s(t(f),2),te=t(M);a(M),a(f);var h=s(f,2),A=s(t(h),2),ae=t(A);a(A),a(h);var I=s(h,2),L=s(t(I),2),re=t(L);a(L),a(I),a(x);var y=s(x,2),P=t(y);H(2),a(y);var B=s(y,2),se=t(B);a(B),a(j),H(2),a(m),q((e,r,_,k)=>{i(ee,`$${e??""}`),i(te,`${r??""}%`),i(ae,`${_??""}%`),i(re,`${k??""}%`),P.disabled=o(d),i(se,`Status: Ready • API: ${o(d)?"Loading...":o(c)?"Error":"Connected"}`)},[()=>o(l).equity.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),()=>o(l).riskPct.toFixed(2),()=>o(l).portfolioCap.toFixed(2),()=>o(l).bucketCap.toFixed(2)]),U("click",u,G),U("click",P,$),n(O,m),ve(),V()}export{Se as component};
